import{HoverOnInformationAgent}from"./info-agent-or-contact-modal.js";$(document).ready((function(){const n=$("#example").DataTable({searching:!1,ordering:!1,processing:!1,pagingType:"simple_numbers",language:{url:"https://cdn.datatables.net/plug-ins/1.11.5/i18n/ru.json"},columns:[{data:null,orderable:!1,searchable:!1,render:function(n,e,t){return'\n                      <div class="tbody-wrapper checkBox">\n                          <label class="my-custom-input">\n                              <input type="checkbox">\n                              <span class="my-custom-box"></span>\n                          </label>\n                      </div>\n                    '}},{data:"photo",name:"Фото"},{data:"agent",name:"Агент"},{data:"position",name:"Должность"},{data:"offices",name:"Офис"},{data:"object",name:"Объ"},{data:"client",name:"Кли"},{data:"succeed",name:"Усп"},{data:"nosucceed",name:"Не усп"},{data:"activeuntil",name:"Активный до"},{data:null,orderable:!1,searchable:!1,render:function(n,e,t){return'\n                     <div class="tbody-wrapper block-actions">\n                     \t<a href="#" class="btn mail-link" data-bs-toggle="tooltip" data-bs-custom-class="custom-tooltip" data-bs-placement="top"\n\t\t\t\t\t\t   data-bs-title="Написать">\n\t\t\t\t\t\t\t<img src="./img/icon/mail.svg" alt="">\n\t\t\t\t\t\t</a>\n                        <div class="block-actions-wrapper">\n                           <label class="bookmark">\n                              <input type="checkbox">\n                              <span>\n                                  <img class="non-checked" src="./img/icon/bookmark.svg" alt="">\n                                  <img class="on-checked" src="./img/icon/bookmark-cheked.svg" alt="">\n                              </span>\n                           </label>\n                           <div class="menu-burger">\n                              <div class="dropdown">\n                                 <button class="btn" type="button" data-bs-toggle="dropdown" aria-expanded="false">\n                                     <img src="./img/icon/burger-blue.svg" alt="">\n                                 </button>\n                                 <ul class="dropdown-menu">\n                                    <li><a class="dropdown-item" href="#">Обновить</a></li>\n                                    <li><a class="dropdown-item" href="#">Редактировать</a></li>\n                                    <li><a class="dropdown-item" href="#">Удалить</a></li>\n                                    <li><a class="dropdown-item" href="#">Отложить</a></li>\n                                    <li><a class="dropdown-item" href="#">Передати</a></li>\n                                 </ul>\n                              </div>\n                           </div>\n                           <div class="menu-info">\n                              <div class="dropdown">\n                                 <button class="btn" type="button" data-bs-toggle="dropdown" aria-expanded="false">\n                                     <img src="./img/icon/copylinked.svg" alt="">\n                                 </button>\n                                 <ul class="dropdown-menu">\n                                    <li><a class="dropdown-item" href="#"><span>На сайте</span></a></li>\n                                    <li><a class="dropdown-item" href="#"><span>На Rem.ua</span></a></li>\n                                    <li><a class="dropdown-item" href="#"><span>Видео Youtube</span></a></li>\n                                    <li><a class="dropdown-item" href="#"><span>На карте</span></a></li>\n                                 </ul>\n                              </div>\n                           </div>\n                        </div>\n                    </div>\n                    '}}],initComplete:function(n,e){$(".js-example-responsive3.position-select").select2({width:"resolve",placeholder:"Должность"}),$(".js-example-responsive3.offices-select").select2({width:"resolve",placeholder:"Офис"})},drawCallback:function(n){$(".js-example-responsive3.position-select").select2({width:"resolve",placeholder:"Должность"}),$(".js-example-responsive3.offices-select").select2({width:"resolve",placeholder:"Офис"})}});n.on("draw",(function(){const e=n.page.info().recordsDisplay;$("#example_info").html("Всего: <b>"+e+"</b>")})),$("#example tbody").on("click",".object .btn-others",(function(n){n.stopPropagation();const a=$(this).closest("tr");if(a.next().hasClass("dop-info-row"))a[0].classList.remove("active"),a.next().remove();else{a[0].classList.add("active");const n='\n        <tr class="dop-info-row">\n            <td colspan="11">\n                <div class="table-for-others-info">\n                    <p class="paragraph">Объекты</p>\n                    <button class="info-footer-btn btn-collapse" type="button">Свернуть</button>\n\t\t\t\t</div>\n                <div class="table-for-others">\n                    <table id="example2" style="width:98%;  margin: auto;">\n                        <col width="27.46763%" valign="middle">\n                        <col width="8.51063%" valign="middle">\n                        <col width="9.29363%" valign="middle">\n                        <col width="10.94563%" valign="middle">\n                        <col width="7.03262%" valign="middle">\n                        <col width="8.77162%" valign="middle">\n                        <col width="8.59762%" valign="middle">\n                        <col width="19.38062%" valign="middle">\n                        <tbody>\n                        <tr>\n                            <td>\n                                <div class="tbody-wrapper location">\n                                    <p>Южная Пальмира</p>\n                                    <p>Генуэзская/Посмитного</p>\n                                    <span>Аркадия, Одесса, Одесская</span>\n                                </div>\n                            </td>\n                            <td>\n                                <div class="tbody-wrapper type">\n                                    <p>2к</p>\n                                    <span>Квартира</span>\n                                </div>\n                            </td>\n                            <td>\n                                <div class="tbody-wrapper area">\n                                    <p>60/40/15</p>\n                                </div>\n                            </td>\n                            <td>\n                                <div class="tbody-wrapper condition">\n                                    <p>С ремонтом</p>\n                                    <p>Новострой</p>\n                                    <span> Монолит</span>\n                                </div>\n                            </td>\n                            <td>\n                                <div class="tbody-wrapper floor">\n                                    <p>4/25 <span>эт</span></p>\n                                </div>\n                            </td>\n                            <td>\n                                <div class="tbody-wrapper photo">\n                                    <img src="./img/image.png" alt="">\n                                </div>\n                            </td>\n                            <td>\n                                <div class="tbody-wrapper price">\n                                    <p>85000</p>\n                                    <span>850/м <sup>2</sup></span>\n                                </div>\n                            </td>\n                            <td>\n                                <div class="tbody-wrapper block-actions">\n                                    <div class="block-actions-wrapper">\n                                        <label class="bookmark">\n                                            <input type="checkbox">\n                                            <span>\n                                                <img class="non-checked" src="./img/icon/bookmark.svg" alt="">\n                                                <img class="on-checked" src="./img/icon/bookmark-cheked.svg" alt="">\n                                            </span>\n                                        </label>\n                                        <div class="menu-burger">\n                                            <div class="dropdown">\n                                                <button class="btn" type="button" data-bs-toggle="dropdown" aria-expanded="false">\n                                                    <img src="./img/icon/burger-blue.svg" alt="">\n                                                </button>\n                                                <ul class="dropdown-menu">\n                                                    <li><a class="dropdown-item" href="#">Обновить</a></li>\n                                                    <li><a class="dropdown-item" href="#">Редактировать</a></li>\n                                                    <li><a class="dropdown-item" href="#">Удалить</a></li>\n                                                    <li><a class="dropdown-item" href="#">Отложить</a></li>\n                                                    <li><a class="dropdown-item" href="#">Передать</a></li>\n                                                </ul>\n                                            </div>\n                                        </div>\n                                        <div class="menu-info">\n                                            <div class="dropdown">\n                                                <button class="btn" type="button" data-bs-toggle="dropdown" aria-expanded="false">\n                                                    <img src="./img/icon/copylinked.svg" alt="">\n                                                </button>\n                                                <ul class="dropdown-menu">\n                                                    <li><a class="dropdown-item" href="#"><span>На сайте</span></a></li>\n                                                    <li><a class="dropdown-item" href="#"><span>На Rem.ua</span></a></li>\n                                                    <li><a class="dropdown-item" href="#"><span>Видео Youtube</span></a></li>\n                                                    <li><a class="dropdown-item" href="#"><span>На карте</span></a></li>\n                                                </ul>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <button type="button" class="details-control-dop">\n                                        <img src="./img/icon/plus.svg" alt="">\n                                    </button>\n                                </div>\n                            </td>\n                        </tr>\n                        </tbody>\n                    </table>\n                </div>\n            </td>\n        </tr>\n    ';a.after(n)}e(),t()})),$("#example tbody").on("click",".btn-collapse",(function(n){n.stopPropagation();const e=$(this).closest(".dop-info-row");e.prev().removeClass("active"),e.remove()})),$("thead .my-custom-input input").on("change",(function(){let n=$(this).prop("checked");$("tbody .my-custom-input input").prop("checked",n)})).end().on("change","tbody .my-custom-input input",(function(){let n=$("tbody .my-custom-input input:checked").length===$("tbody .my-custom-input input").length;$("thead .my-custom-input input").prop("checked",n)}));const e=function(){[...document.querySelectorAll('[data-bs-toggle="tooltip"]')].map(n=>new bootstrap.Tooltip(n))};function t(){0===$("#photo-preview-popup").length&&$("body").append('\n            <div id="photo-preview-popup">\n                <img src="" alt="">\n            </div>\n        ');const n=$("#photo-preview-popup"),e=n.find("img"),t=$("#close-photo-preview");let a;$(".tbody-wrapper.photo img").hover((function(){const t=$(this).attr("src");a=setTimeout((function(){e.attr("src",t),n.show()}),300)}),(function(){clearTimeout(a),n.hide()})),n.hover((function(){}),(function(){n.hide()})),t.on("click",(function(){n.hide()}))}e(),n.on("draw",(function(){e()})),$("#example tbody").on("click",".details-control, .details-control-dop, #btn-others",(function(){setTimeout(()=>{e()},0)})),$(".js-example-responsive2.position").select2({width:"resolve",placeholder:"Должность"}),$(".js-example-responsive2.statusagents").select2({width:"resolve",placeholder:"Статус агентов"}),$(".js-example-responsive2.company").select2({width:"resolve",placeholder:"Компания"}),$(".js-example-responsive2.offices").select2({width:"resolve",placeholder:"Офис"}),t(),n.on("draw",(function(){t()})),$("#datapiker").daterangepicker({locale:{format:"DD-MM-YYYY",separator:" - ",applyLabel:"Применить",cancelLabel:"Отмена",fromLabel:"From",toLabel:"To",customRangeLabel:"Custom",weekLabel:"Н",daysOfWeek:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],firstDay:1},drops:"auto"}),new HoverOnInformationAgent({containerSelector:"#example",hoverAttribute:"data-hover-agent",modalClass:"info-agent-modal"}),$(".multiple-menu-btn").on("click",(function(n){n.stopPropagation();const e="false"===$(this).attr("data-open-menu")?"true":"false";$(this).attr("data-open-menu",e)})),$(document).on("click",(function(){$(".multiple-menu-btn").attr("data-open-menu","false")})),$(".multiple-menu-wrapper").on("click",(function(n){n.stopPropagation()})),$(document).on("change",'.multiple-menu-list input[type="checkbox"]',(function(){const n=$(this).closest(".multiple-menu-list"),e=n.find('input[data-name="checkbox-all"]'),t=n.find('input[type="checkbox"]').not(e);"checkbox-all"===$(this).data("name")?$(this).is(":checked")&&t.prop("checked",!1):($(this).is(":checked")&&e.prop("checked",!1),0===t.filter(":checked").length&&e.prop("checked",!0))}))}));